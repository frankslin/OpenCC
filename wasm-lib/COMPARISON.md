# opencc-js vs opencc-wasm æ€§èƒ½å¯¹æ¯”

**æµ‹è¯•æ—¥æœŸ**: 2026-01-04
**æµ‹è¯•ç¯å¢ƒ**: Node.js v22.21.1, Linux x64

## æ¦‚è¿°

è¿™ä»½æŠ¥å‘Šå¯¹æ¯”äº†ä¸¤ä¸ªæµè¡Œçš„ JavaScript OpenCC å®ç°ï¼š
- **opencc-js**: çº¯ JavaScript å®ç°ï¼Œä½¿ç”¨è‡ªå®šä¹‰è¯å…¸å’Œè½¬æ¢é€»è¾‘
- **opencc-wasm**: WebAssembly å®ç°ï¼Œå°è£…å®˜æ–¹ OpenCC C++ æ ¸å¿ƒ

## æ€§èƒ½æµ‹è¯•ç»“æœ

### 1. åˆå§‹åŒ–æ€§èƒ½

è½¬æ¢å™¨åˆ›å»ºå’Œåˆå§‹åŒ–çš„æ—¶é—´ï¼ˆè¶Šä½è¶Šå¥½ï¼‰ï¼š

| é…ç½® | opencc-js | opencc-wasm | é€Ÿåº¦å·®å¼‚ |
|------|-----------|-------------|----------|
| s2t | 44.073 ms | 8.57 Âµs | **WASM å¿« 5,140x** |
| t2s | 2.112 ms | 6.93 Âµs | **WASM å¿« 305x** |
| s2tw | 38.716 ms | 10.46 Âµs | **WASM å¿« 3,700x** |
| tw2s | 2.291 ms | 10.38 Âµs | **WASM å¿« 221x** |

**åˆ†æ**:
- opencc-wasm çš„åˆå§‹åŒ–é€Ÿåº¦è¿œè¶… opencc-jsï¼ˆå¿« 200-5000 å€ï¼‰
- opencc-wasm è¯å…¸å·²é¢„ç¼–è¯‘åˆ° WASM æ¨¡å—ï¼Œåˆå§‹åŒ–å‡ ä¹æ— å¼€é”€
- opencc-js éœ€è¦åœ¨è¿è¡Œæ—¶æ„å»º Trie ç»“æ„ï¼Œè€—æ—¶è¾ƒå¤š
- ç®€ä½“â†’ç¹ä½“è½¬æ¢ï¼ˆs2t, s2twï¼‰åœ¨ä¸¤è€…ä¸­éƒ½æ¯”åå‘è½¬æ¢æ…¢

### 2. è½¬æ¢æ€§èƒ½ - å°æ–‡æœ¬ï¼ˆ100 å­—ç¬¦ï¼‰

| é…ç½® | opencc-js | opencc-wasm | é€Ÿåº¦å·®å¼‚ |
|------|-----------|-------------|----------|
| s2t | 33.36 Âµs | 2.776 ms | **JS å¿« 83x** |
| t2s | 53.18 Âµs | 2.595 ms | **JS å¿« 49x** |
| s2tw | 81.71 Âµs | 4.002 ms | **JS å¿« 49x** |
| tw2s | 91.34 Âµs | 4.584 ms | **JS å¿« 50x** |

### 3. è½¬æ¢æ€§èƒ½ - ä¸­ç­‰æ–‡æœ¬ï¼ˆ1000 å­—ç¬¦ï¼‰

| é…ç½® | opencc-js | opencc-wasm | é€Ÿåº¦å·®å¼‚ |
|------|-----------|-------------|----------|
| s2t | 433.15 Âµs | 27.749 ms | **JS å¿« 64x** |
| t2s | 545.07 Âµs | 26.003 ms | **JS å¿« 48x** |
| s2tw | 833.47 Âµs | 41.676 ms | **JS å¿« 50x** |
| tw2s | 1.072 ms | 47.464 ms | **JS å¿« 44x** |

**åˆ†æ**:
- opencc-js åœ¨æ–‡æœ¬è½¬æ¢ä¸Šæ˜¾è‘—å¿«äº opencc-wasmï¼ˆå¿« 44-83 å€ï¼‰
- çº¯ JavaScript å®ç°é¿å…äº† JS/WASM è¾¹ç•Œçš„å­—ç¬¦ä¸²ä¼ é€’å¼€é”€
- opencc-js ä½¿ç”¨ä¼˜åŒ–çš„ Trie æŸ¥æ‰¾ï¼Œåœ¨å°æ–‡æœ¬ä¸Šæ•ˆç‡æé«˜
- opencc-wasm çš„ä¸»è¦å¼€é”€æ¥è‡ªè·¨ JS/WASM è¾¹ç•Œçš„æ•°æ®ä¼ é€’

## ä¸ C++ åŸç”Ÿç‰ˆæœ¬å¯¹æ¯”

### åˆå§‹åŒ–æ€§èƒ½

| å®ç° | s2t åˆå§‹åŒ– | ç›¸å¯¹ C++ å€æ•° |
|------|-----------|--------------|
| **C++ åŸç”Ÿ** | 34.1 ms | 1x (åŸºå‡†) |
| **opencc-js** | 44.1 ms | 1.3x æ…¢ |
| **opencc-wasm** | 8.57 Âµs | **3,980x å¿«** |

### è½¬æ¢æ€§èƒ½ï¼ˆ100 è¡Œæ–‡æœ¬ï¼‰

| å®ç° | è½¬æ¢æ—¶é—´ | ååé‡ |
|------|---------|--------|
| **C++ åŸç”Ÿ** | 0.713 ms | ~152k è¡Œ/ç§’ |
| **opencc-js** | ~0.033 ms | ~3M è¡Œ/ç§’ |
| **opencc-wasm** | 2.776 ms | ~39k è¡Œ/ç§’ |

## å…³é”®å·®å¼‚åˆ†æ

### åˆå§‹åŒ–

| ç‰¹æ€§ | opencc-js | opencc-wasm |
|------|-----------|-------------|
| è¯å…¸æ ¼å¼ | è¿è¡Œæ—¶æ„å»º Trie | é¢„ç¼–è¯‘ .ocd2 |
| åŠ è½½æ–¹å¼ | JavaScript è§£æ | WASM æ¨¡å—åŠ è½½ |
| å†…å­˜å ç”¨ | è¾ƒé«˜ï¼ˆJS å¯¹è±¡ï¼‰ | è¾ƒä½ï¼ˆWASM çº¿æ€§å†…å­˜ï¼‰ |
| å¯åŠ¨é€Ÿåº¦ | æ…¢ï¼ˆæ¯«ç§’çº§ï¼‰ | æå¿«ï¼ˆå¾®ç§’çº§ï¼‰ |

### è½¬æ¢

| ç‰¹æ€§ | opencc-js | opencc-wasm |
|------|-----------|-------------|
| ç®—æ³•å®ç° | çº¯ JS Trie æŸ¥æ‰¾ | C++ æœ€å¤§åŒ¹é…åˆ†è¯ |
| æ•°æ®ä¼ é€’ | æ— å¼€é”€ | éœ€è·¨ JS/WASM è¾¹ç•Œ |
| è½¬æ¢å‡†ç¡®æ€§ | è‡ªå®šä¹‰è§„åˆ™ | å®˜æ–¹ OpenCC è§„åˆ™ |
| ä¼˜åŒ–ç¨‹åº¦ | V8 JIT ä¼˜åŒ– | AOT WASM ç¼–è¯‘ |

## é€‚ç”¨åœºæ™¯æ¨è

### ä¼˜å…ˆä½¿ç”¨ opencc-js çš„åœºæ™¯

âœ… **æ€§èƒ½æ•æ„Ÿçš„å®æ—¶è½¬æ¢**
- èŠå¤©åº”ç”¨ã€å®æ—¶è¾“å…¥è½¬æ¢
- éœ€è¦æä½å»¶è¿Ÿçš„åœºæ™¯
- å¤„ç†å¤§é‡çŸ­æ–‡æœ¬

âœ… **æµè§ˆå™¨ç¯å¢ƒ**
- åŒ…ä½“ç§¯æ•æ„Ÿï¼ˆopencc-js æ›´å°ï¼‰
- ä¸éœ€è¦å®Œå…¨å…¼å®¹å®˜æ–¹ OpenCC

âœ… **ç®€å•çš„è½¬æ¢éœ€æ±‚**
- åŸºæœ¬çš„ç®€ç¹è½¬æ¢
- ä¸éœ€è¦åœ°åŒºåŒ–è¯æ±‡å¤„ç†

**ç¤ºä¾‹**:
```javascript
import { Converter } from 'opencc-js';
const converter = Converter({ from: 'cn', to: 'tw' });
const result = converter('ç®€ä½“ä¸­æ–‡'); // æå¿«
```

### ä¼˜å…ˆä½¿ç”¨ opencc-wasm çš„åœºæ™¯

âœ… **å‡†ç¡®æ€§ä¼˜å…ˆ**
- éœ€è¦ä¸å®˜æ–¹ OpenCC è¡Œä¸ºå®Œå…¨ä¸€è‡´
- ä¸“ä¸šæ–‡æ¡£è½¬æ¢
- ä½¿ç”¨å®˜æ–¹è¯å…¸å’Œé…ç½®

âœ… **é¢‘ç¹åˆ›å»ºè½¬æ¢å™¨**
- å¾®æœåŠ¡æ¶æ„ï¼ˆæ¯ä¸ªè¯·æ±‚æ–°å»ºè½¬æ¢å™¨ï¼‰
- æ— çŠ¶æ€åº”ç”¨
- åˆå§‹åŒ–æˆæœ¬æ•æ„Ÿ

âœ… **å¤æ‚é…ç½®**
- ä½¿ç”¨å®˜æ–¹ .ocd2 è¯å…¸
- è‡ªå®šä¹‰è½¬æ¢é“¾
- åœ°åŒºåŒ–è¯æ±‡å¤„ç†ï¼ˆHK/TW/JPï¼‰

**ç¤ºä¾‹**:
```javascript
import OpenCC from 'opencc-wasm';
const converter = OpenCC.Converter({ config: 's2tw.json' });
const result = await converter('ç®€ä½“ä¸­æ–‡'); // å®˜æ–¹è§„åˆ™
```

### ä¼˜å…ˆä½¿ç”¨ C++ åŸç”Ÿç‰ˆæœ¬çš„åœºæ™¯

âœ… **æœåŠ¡å™¨æ‰¹é‡å¤„ç†**
- å¤§æ–‡ä»¶è½¬æ¢
- æ‰¹é‡æ–‡æ¡£å¤„ç†
- é«˜ååé‡æœåŠ¡

âœ… **å‘½ä»¤è¡Œå·¥å…·**
- ç¦»çº¿è½¬æ¢
- è„šæœ¬è‡ªåŠ¨åŒ–

## æ€§èƒ½ä¼˜åŒ–å»ºè®®

### å¯¹äº opencc-js ç”¨æˆ·

1. **é‡ç”¨è½¬æ¢å™¨å®ä¾‹** - é¿å…é‡å¤åˆå§‹åŒ–å¼€é”€
2. **æ‰¹é‡è½¬æ¢** - ç´¯ç§¯æ–‡æœ¬åä¸€æ¬¡æ€§è½¬æ¢
3. **é€‰æ‹©åˆé€‚çš„é…ç½®** - é¿å…ä¸å¿…è¦çš„å¤æ‚è§„åˆ™

### å¯¹äº opencc-wasm ç”¨æˆ·

1. **é‡ç”¨è½¬æ¢å™¨å®ä¾‹** - åˆå§‹åŒ–è™½å¿«ï¼Œä½†ä»åº”é¿å…é‡å¤
2. **åˆ†å—å¤„ç†** - å°†å¤§æ–‡æœ¬åˆ†æˆå°å—é¿å…å†…å­˜é™åˆ¶
3. **é¢„åˆå§‹åŒ–** - åœ¨åº”ç”¨å¯åŠ¨æ—¶é¢„åˆ›å»ºå¸¸ç”¨è½¬æ¢å™¨
4. **ä½¿ç”¨ Web Worker** - åœ¨æµè§ˆå™¨ä¸­é¿å…é˜»å¡ä¸»çº¿ç¨‹

## æ··åˆä½¿ç”¨ç­–ç•¥

å¯¹äºéœ€è¦åŒæ—¶è€ƒè™‘æ€§èƒ½å’Œå‡†ç¡®æ€§çš„åº”ç”¨ï¼š

```javascript
// å¿«é€Ÿé¢„è§ˆä½¿ç”¨ opencc-js
import { Converter as FastConverter } from 'opencc-js';
const preview = FastConverter({ from: 'cn', to: 'tw' });

// æœ€ç»ˆè½¬æ¢ä½¿ç”¨ opencc-wasmï¼ˆå‡†ç¡®ï¼‰
import OpenCC from 'opencc-wasm';
const accurate = OpenCC.Converter({ config: 's2tw.json' });

// å®æ—¶é¢„è§ˆ
onInput(text => {
  previewElement.textContent = preview(text); // æå¿«
});

// æäº¤æ—¶å‡†ç¡®è½¬æ¢
onSubmit(async text => {
  const result = await accurate(text); // å‡†ç¡®
  save(result);
});
```

## æ€»ç»“

| æŒ‡æ ‡ | opencc-js | opencc-wasm | C++ åŸç”Ÿ |
|------|-----------|-------------|----------|
| **åˆå§‹åŒ–é€Ÿåº¦** | â­â­ | â­â­â­â­â­ | â­ |
| **è½¬æ¢é€Ÿåº¦** | â­â­â­â­â­ | â­â­ | â­â­â­â­ |
| **å‡†ç¡®æ€§** | â­â­â­ | â­â­â­â­â­ | â­â­â­â­â­ |
| **åŒ…ä½“ç§¯** | â­â­â­â­ | â­â­â­ | N/A |
| **æ˜“ç”¨æ€§** | â­â­â­â­â­ | â­â­â­â­â­ | â­â­â­ |

**æ¨èé€‰æ‹©**:
- ğŸš€ **æ€§èƒ½ä¼˜å…ˆ** â†’ opencc-js
- âœ… **å‡†ç¡®æ€§ä¼˜å…ˆ** â†’ opencc-wasm æˆ– C++ åŸç”Ÿ
- ğŸŒ **Web ç¯å¢ƒ** â†’ opencc-jsï¼ˆå°æ–‡æœ¬ï¼‰æˆ– opencc-wasmï¼ˆéœ€å‡†ç¡®æ€§ï¼‰
- ğŸ–¥ï¸ **æœåŠ¡å™¨æ‰¹å¤„ç†** â†’ C++ åŸç”Ÿ

## è¿è¡Œæµ‹è¯•

```bash
# å®‰è£…ä¾èµ–
npm install

# è¿è¡Œå¯¹æ¯”æµ‹è¯•
npm run benchmark:compare

# å•ç‹¬æµ‹è¯• opencc-wasm
npm run benchmark
```

## å‚è€ƒé“¾æ¥

- [opencc-js GitHub](https://github.com/nk2028/opencc-js)
- [opencc-wasm æ–‡æ¡£](./README.md)
- [OpenCC å®˜æ–¹](https://github.com/BYVoid/OpenCC)
