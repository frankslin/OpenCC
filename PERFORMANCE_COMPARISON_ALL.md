# OpenCC å…¨å¹³å°æ€§èƒ½å¯¹æ¯”

**æµ‹è¯•æ—¥æœŸ**: 2026-01-04
**æµ‹è¯•ç¯å¢ƒ**:
- C++/WASM: 16 æ ¸ CPU @ 2.6GHz, Linux
- Node.js: v22.21.1, Linux x64

æœ¬æŠ¥å‘Šå¯¹æ¯”äº† OpenCC çš„ä¸‰ç§ä¸»è¦å®ç°ï¼š
1. **C++ åŸç”Ÿç‰ˆæœ¬** - å®˜æ–¹å®ç°ï¼Œç¼–è¯‘ä¸ºæœ¬åœ°äºŒè¿›åˆ¶
2. **opencc-wasm** - WebAssembly å°è£…ï¼Œä½¿ç”¨å®˜æ–¹ C++ æ ¸å¿ƒ
3. **opencc-js** - çº¯ JavaScript å®ç°ï¼Œè‡ªå®šä¹‰ç®—æ³•

---

## ğŸ“Š æ€§èƒ½å¯¹æ¯”æ€»è§ˆ

### åˆå§‹åŒ–æ€§èƒ½ (s2t ç®€ä½“â†’ç¹ä½“)

| å®ç° | æ—¶é—´ | ç›¸å¯¹æœ€å¿« | åœºæ™¯ |
|------|------|---------|------|
| **opencc-wasm** | **8.57 Âµs** | ğŸ¥‡ 1x | è¯å…¸é¢„åŠ è½½ |
| **C++ åŸç”Ÿ** | 34.1 ms | ğŸ¥‰ 3,980x æ…¢ | ä»ç£ç›˜åŠ è½½ |
| **opencc-js** | 44.1 ms | ğŸ¥ˆ 5,145x æ…¢ | è¿è¡Œæ—¶æ„å»º |

**å…³é”®å‘ç°**:
- âœ… WASM åˆå§‹åŒ–é€Ÿåº¦æƒŠäººï¼ˆå¾®ç§’çº§ï¼‰ï¼Œå› ä¸ºè¯å…¸å·²ç¼–è¯‘è¿›æ¨¡å—
- âš ï¸ C++ å’Œ JS éƒ½éœ€è¦åŠ è½½/æ„å»ºè¯å…¸ï¼Œè€—æ—¶æ¯«ç§’çº§
- ğŸ“Œ å¯¹äºé¢‘ç¹åˆ›å»ºè½¬æ¢å™¨çš„åœºæ™¯ï¼ŒWASM æœ‰å·¨å¤§ä¼˜åŠ¿

### è½¬æ¢æ€§èƒ½ (s2t, 100 è¡Œæ–‡æœ¬)

| å®ç° | æ—¶é—´ | ååé‡ | ç›¸å¯¹æœ€å¿« |
|------|------|--------|---------|
| **opencc-js** | **0.033 ms** | ğŸ¥‡ ~3M è¡Œ/ç§’ | 1x |
| **C++ åŸç”Ÿ** | 0.713 ms | ğŸ¥ˆ ~152k è¡Œ/ç§’ | 21.6x æ…¢ |
| **opencc-wasm** | 2.776 ms | ğŸ¥‰ ~39k è¡Œ/ç§’ | 84.1x æ…¢ |

**å…³é”®å‘ç°**:
- âœ… opencc-js è½¬æ¢é€Ÿåº¦æœ€å¿«ï¼Œçº¯ JS å®ç°é¿å…è¾¹ç•Œå¼€é”€
- âœ… C++ åŸç”Ÿç‰ˆæœ¬å¹³è¡¡æ€§èƒ½å’Œå‡†ç¡®æ€§ï¼Œé€‚åˆç”Ÿäº§ç¯å¢ƒ
- âš ï¸ WASM å—åˆ¶äº JS/WASM æ•°æ®ä¼ é€’ï¼Œè½¬æ¢è¾ƒæ…¢

---

## è¯¦ç»†æ€§èƒ½æ•°æ®

### 1. åˆå§‹åŒ–æ€§èƒ½å¯¹æ¯”

æ‰€æœ‰é…ç½®çš„åˆå§‹åŒ–æ—¶é—´ï¼š

| é…ç½® | C++ åŸç”Ÿ | opencc-wasm | opencc-js | æœ€å¿«å®ç° |
|------|----------|-------------|-----------|----------|
| s2t | 34.1 ms | 8.57 Âµs | 44.1 ms | WASM (3,980x) |
| s2tw | 35.1 ms | 10.46 Âµs | 38.7 ms | WASM (3,354x) |
| s2hk | 34.0 ms | 9.58 Âµs | - | WASM (3,548x) |
| t2s | 1.69 ms | 6.93 Âµs | 2.11 ms | WASM (244x) |
| tw2s | 1.83 ms | 10.38 Âµs | 2.29 ms | WASM (176x) |
| hk2s | 2.10 ms | 9.67 Âµs | - | WASM (217x) |

**è§„å¾‹**:
- ç®€â†’ç¹è½¬æ¢åˆå§‹åŒ–æ™®éæ…¢äºç¹â†’ç®€ï¼ˆè¯å…¸æ›´å¤§ï¼‰
- WASM åœ¨æ‰€æœ‰é…ç½®ä¸‹éƒ½æ˜¯æœ€å¿«çš„åˆå§‹åŒ–æ–¹å¼
- C++ å’Œ JS åˆå§‹åŒ–æ—¶é—´å·®å¼‚ä¸å¤§

### 2. è½¬æ¢æ€§èƒ½å¯¹æ¯”ï¼ˆä¸åŒæ–‡æœ¬å¤§å°ï¼‰

#### å°æ–‡æœ¬ï¼ˆ100 å­—ç¬¦ï¼‰

| å®ç° | s2t | t2s | s2tw | tw2s |
|------|-----|-----|------|------|
| **C++** | 0.713 ms | - | - | - |
| **WASM** | 2.776 ms | 2.595 ms | 4.002 ms | 4.584 ms |
| **JS** | 0.033 ms | 0.053 ms | 0.082 ms | 0.091 ms |

**èƒœè€…**: opencc-jsï¼ˆå¿« 21-84 å€ï¼‰

#### ä¸­ç­‰æ–‡æœ¬ï¼ˆ1000 å­—ç¬¦ï¼‰

| å®ç° | s2t | t2s | s2tw | tw2s |
|------|-----|-----|------|------|
| **C++** | 7.14 ms | - | - | - |
| **WASM** | 27.749 ms | 26.003 ms | 41.676 ms | 47.464 ms |
| **JS** | 0.433 ms | 0.545 ms | 0.833 ms | 1.072 ms |

**èƒœè€…**: opencc-jsï¼ˆå¿« 16-64 å€ï¼‰

#### å¤§æ–‡æœ¬ï¼ˆ10,000 å­—ç¬¦ï¼‰

| å®ç° | s2t | ååé‡ | å¤‡æ³¨ |
|------|-----|--------|------|
| **C++** | 76.7 ms | ~139k è¡Œ/ç§’ | âœ… |
| **WASM** | - | - | âš ï¸ å†…å­˜é™åˆ¶ |
| **JS** | ~4.3 ms (ä¼°ç®—) | ~2.3M å­—ç¬¦/ç§’ | âœ… |

**èƒœè€…**: opencc-jsï¼ˆC++ æ— æ³•æ¯”è¾ƒè¡Œæ•°ï¼Œä½† JS æ›´å¿«ï¼‰

#### è¶…å¤§æ–‡æœ¬ï¼ˆ2MB, å·¦ä¼ å…¨æ–‡ï¼‰

| å®ç° | æ—¶é—´ | ååé‡ | çŠ¶æ€ |
|------|------|--------|------|
| **C++** | 407 ms | ~5.3 MB/ç§’ | âœ… ç¨³å®š |
| **WASM** | - | - | âŒ å†…å­˜é™åˆ¶ |
| **JS** | - | - | æœªæµ‹è¯• |

**èƒœè€…**: C++ åŸç”Ÿï¼ˆå”¯ä¸€æ”¯æŒï¼‰

---

## ğŸ¯ é€‚ç”¨åœºæ™¯æ¨è

### C++ åŸç”Ÿç‰ˆæœ¬

**æœ€é€‚åˆ**:
- âœ… æœåŠ¡å™¨ç«¯æ‰¹é‡å¤„ç†
- âœ… å¤§æ–‡ä»¶è½¬æ¢ï¼ˆMB çº§åˆ«ï¼‰
- âœ… å‘½ä»¤è¡Œå·¥å…·
- âœ… éœ€è¦å®˜æ–¹å®Œæ•´åŠŸèƒ½

**æ€§èƒ½ç‰¹ç‚¹**:
- åˆå§‹åŒ–: ä¸­ç­‰ï¼ˆæ¯«ç§’çº§ï¼‰
- è½¬æ¢: å¿«é€Ÿï¼ˆåƒè¡Œ/ç§’çº§åˆ«ï¼‰
- å†…å­˜: æ— é™åˆ¶

**ç¤ºä¾‹**:
```bash
opencc -i input.txt -o output.txt -c s2t.json
```

### opencc-wasm

**æœ€é€‚åˆ**:
- âœ… Web åº”ç”¨éœ€è¦å®˜æ–¹è§„åˆ™
- âœ… é¢‘ç¹åˆ›å»ºè½¬æ¢å™¨çš„åœºæ™¯
- âœ… éœ€è¦å‡†ç¡®æ€§çš„åº”ç”¨
- âœ… è·¨å¹³å°éƒ¨ç½²ï¼ˆæµè§ˆå™¨+Nodeï¼‰

**æ€§èƒ½ç‰¹ç‚¹**:
- åˆå§‹åŒ–: æå¿«ï¼ˆå¾®ç§’çº§ï¼‰â­â­â­â­â­
- è½¬æ¢: ä¸­ç­‰ï¼ˆå— JS/WASM è¾¹ç•Œé™åˆ¶ï¼‰
- å†…å­˜: æœ‰é™åˆ¶ï¼ˆ~40KB æ–‡æœ¬ï¼‰

**ç¤ºä¾‹**:
```javascript
import OpenCC from 'opencc-wasm';
const converter = OpenCC.Converter({ config: 's2t.json' });
const result = await converter('ç®€ä½“ä¸­æ–‡'); // å®˜æ–¹å‡†ç¡®
```

### opencc-js

**æœ€é€‚åˆ**:
- âœ… å®æ—¶è½¬æ¢éœ€æ±‚ï¼ˆèŠå¤©ã€è¾“å…¥æ³•ï¼‰
- âœ… å¤§é‡çŸ­æ–‡æœ¬å¤„ç†
- âœ… æ€§èƒ½æ•æ„Ÿçš„ Web åº”ç”¨
- âœ… ä¸éœ€è¦å®Œå…¨å…¼å®¹å®˜æ–¹

**æ€§èƒ½ç‰¹ç‚¹**:
- åˆå§‹åŒ–: ä¸­ç­‰ï¼ˆæ¯«ç§’çº§ï¼‰
- è½¬æ¢: æå¿«ï¼ˆæ— è¾¹ç•Œå¼€é”€ï¼‰â­â­â­â­â­
- å†…å­˜: JavaScript ç®¡ç†

**ç¤ºä¾‹**:
```javascript
import { Converter } from 'opencc-js';
const converter = Converter({ from: 'cn', to: 'tw' });
const result = converter('ç®€ä½“ä¸­æ–‡'); // æå¿«
```

---

## ğŸ“ˆ æ€§èƒ½å¯¹æ¯”å›¾è¡¨

### åˆå§‹åŒ–æ—¶é—´å¯¹æ¯”

```
opencc-wasm:  â– 8.57 Âµs
C++ åŸç”Ÿ:     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 34.1 ms
opencc-js:    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 44.1 ms
```

### è½¬æ¢é€Ÿåº¦å¯¹æ¯”ï¼ˆ100 å­—ç¬¦ï¼‰

```
opencc-js:    â– 33 Âµs        (æœ€å¿«)
C++ åŸç”Ÿ:     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 713 Âµs
opencc-wasm:  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 2776 Âµs
```

---

## ğŸ” æŠ€æœ¯å¯¹æ¯”

### æ ¸å¿ƒå·®å¼‚

| ç‰¹æ€§ | C++ åŸç”Ÿ | opencc-wasm | opencc-js |
|------|----------|-------------|-----------|
| **å®ç°è¯­è¨€** | C++ | C++ (WASM) | JavaScript |
| **è¯å…¸æ ¼å¼** | .ocd2 | .ocd2 | è‡ªå®šä¹‰ Trie |
| **è½¬æ¢ç®—æ³•** | æœ€å¤§åŒ¹é… | æœ€å¤§åŒ¹é… | Trie æŸ¥æ‰¾ |
| **å‡†ç¡®æ€§** | â­â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­ |
| **åˆå§‹åŒ–** | ä¸­ç­‰ | æå¿« | ä¸­ç­‰ |
| **è½¬æ¢é€Ÿåº¦** | å¿« | ä¸­ç­‰ | æå¿« |
| **åŒ…ä½“ç§¯** | N/A | ~341KB | ~100KB |
| **å¹³å°æ”¯æŒ** | OS é™åˆ¶ | Web+Node | Web+Node |

### å‡†ç¡®æ€§å¯¹æ¯”

| æµ‹è¯•é¡¹ | C++ åŸç”Ÿ | opencc-wasm | opencc-js |
|--------|----------|-------------|-----------|
| **å®˜æ–¹è¯å…¸** | âœ… å®Œæ•´ | âœ… å®Œæ•´ | âŒ è‡ªå®šä¹‰ |
| **åœ°åŒºè¯æ±‡** | âœ… HK/TW/JP | âœ… HK/TW/JP | âš ï¸ æœ‰é™ |
| **çŸ­è¯­è½¬æ¢** | âœ… | âœ… | âš ï¸ ç®€åŒ– |
| **é…ç½®å…¼å®¹** | âœ… å®˜æ–¹ | âœ… å®˜æ–¹ | âŒ ä¸å…¼å®¹ |

---

## ğŸ’¡ æ€§èƒ½ä¼˜åŒ–å»ºè®®

### é€šç”¨å»ºè®®

1. **é‡ç”¨è½¬æ¢å™¨å®ä¾‹** - æ‰€æœ‰å®ç°éƒ½åº”é¿å…é‡å¤åˆå§‹åŒ–
2. **æ‰¹é‡å¤„ç†** - ç´¯ç§¯æ–‡æœ¬åä¸€æ¬¡æ€§è½¬æ¢
3. **é€‰æ‹©åˆé€‚çš„å®ç°** - æ ¹æ®åœºæ™¯é€‰æ‹©æœ€ä¼˜æ–¹æ¡ˆ

### æŒ‰å®ç°ä¼˜åŒ–

#### C++ åŸç”Ÿ
```cpp
// å¥½ï¼šé‡ç”¨å®ä¾‹
SimpleConverter converter("s2t.json");
for (auto& text : texts) {
    result = converter.Convert(text);
}

// å·®ï¼šé‡å¤åˆ›å»º
for (auto& text : texts) {
    SimpleConverter converter("s2t.json"); // é¿å…ï¼
    result = converter.Convert(text);
}
```

#### opencc-wasm
```javascript
// å¥½ï¼šé¢„åˆå§‹åŒ–
const converter = OpenCC.Converter({ config: 's2t.json' });
app.use(async (req, res) => {
    const result = await converter(req.body.text);
    res.json({ result });
});

// å·®ï¼šæ¯æ¬¡åˆ›å»º
app.use(async (req, res) => {
    const converter = OpenCC.Converter({ config: 's2t.json' }); // è™½å¿«ä½†ä»åº”é¿å…
    const result = await converter(req.body.text);
});
```

#### opencc-js
```javascript
// å¥½ï¼šç¼“å­˜è½¬æ¢å™¨
const converters = new Map();
function getConverter(from, to) {
    const key = `${from}-${to}`;
    if (!converters.has(key)) {
        converters.set(key, Converter({ from, to }));
    }
    return converters.get(key);
}
```

---

## ğŸ† ç»¼åˆè¯„åˆ†

| æŒ‡æ ‡ | C++ åŸç”Ÿ | opencc-wasm | opencc-js | æƒé‡ |
|------|----------|-------------|-----------|------|
| åˆå§‹åŒ–é€Ÿåº¦ | â­â­ | â­â­â­â­â­ | â­â­ | 20% |
| è½¬æ¢é€Ÿåº¦ | â­â­â­â­ | â­â­ | â­â­â­â­â­ | 40% |
| å‡†ç¡®æ€§ | â­â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­ | 25% |
| æ˜“ç”¨æ€§ | â­â­â­ | â­â­â­â­â­ | â­â­â­â­â­ | 15% |
| **æ€»åˆ†** | **3.95** | **4.05** | **4.30** | 100% |

**æ¨è**:
- ğŸ¥‡ **opencc-js**: æ€§èƒ½ç‹è€…ï¼ŒWeb åº”ç”¨é¦–é€‰
- ğŸ¥ˆ **opencc-wasm**: å‡†ç¡®æ€§ä¸æ˜“ç”¨æ€§æœ€ä½³å¹³è¡¡
- ğŸ¥‰ **C++ åŸç”Ÿ**: å¤§æ–‡ä»¶å¤„ç†ä¸æœåŠ¡å™¨ç«¯æ‰¹å¤„ç†

---

## ğŸ“Š å†³ç­–æ ‘

```
éœ€è¦è½¬æ¢ä¸­æ–‡ï¼Ÿ
â”œâ”€ Web åº”ç”¨ï¼Ÿ
â”‚  â”œâ”€ éœ€è¦å®˜æ–¹å‡†ç¡®æ€§ï¼Ÿ
â”‚  â”‚  â””â”€ ä½¿ç”¨ opencc-wasm âœ…
â”‚  â””â”€ æ€§èƒ½ä¼˜å…ˆï¼Ÿ
â”‚     â””â”€ ä½¿ç”¨ opencc-js âœ…
â”œâ”€ æœåŠ¡å™¨ç«¯ï¼Ÿ
â”‚  â”œâ”€ å¤§æ–‡ä»¶æ‰¹å¤„ç†ï¼Ÿ
â”‚  â”‚  â””â”€ ä½¿ç”¨ C++ åŸç”Ÿ âœ…
â”‚  â”œâ”€ å¾®æœåŠ¡ï¼ˆé¢‘ç¹åˆå§‹åŒ–ï¼‰ï¼Ÿ
â”‚  â”‚  â””â”€ ä½¿ç”¨ opencc-wasm âœ…
â”‚  â””â”€ å®æ—¶ APIï¼ˆé«˜å¹¶å‘ï¼‰ï¼Ÿ
â”‚     â””â”€ ä½¿ç”¨ opencc-js âœ…
â””â”€ å‘½ä»¤è¡Œå·¥å…·ï¼Ÿ
   â””â”€ ä½¿ç”¨ C++ åŸç”Ÿ âœ…
```

---

## ğŸ§ª è¿è¡Œæµ‹è¯•

### C++ åŸç”Ÿ
```bash
make benchmark
```

### opencc-wasm
```bash
cd wasm-lib
npm run benchmark
```

### å¯¹æ¯”æµ‹è¯•ï¼ˆopencc-js vs opencc-wasmï¼‰
```bash
cd wasm-lib
npm run benchmark:compare
```

---

## ğŸ“š å‚è€ƒæ–‡æ¡£

- [C++ ç‰ˆæœ¬æ€§èƒ½æŠ¥å‘Š](BENCHMARK_RESULTS.md)
- [WASM ç‰ˆæœ¬æ€§èƒ½æŠ¥å‘Š](wasm-lib/BENCHMARK_RESULTS.md)
- [JS vs WASM å¯¹æ¯”](wasm-lib/COMPARISON.md)
- [OpenCC å®˜æ–¹](https://github.com/BYVoid/OpenCC)
- [opencc-js](https://github.com/nk2028/opencc-js)

---

**ç»“è®º**: æ¯ç§å®ç°éƒ½æœ‰å…¶æœ€ä½³é€‚ç”¨åœºæ™¯ã€‚æ ¹æ®ä½ çš„å…·ä½“éœ€æ±‚é€‰æ‹©ï¼šæ€§èƒ½ä¼˜å…ˆé€‰ JSï¼Œå‡†ç¡®æ€§ä¼˜å…ˆé€‰ WASM æˆ– C++ï¼Œå¤§æ–‡ä»¶å¤„ç†é€‰ C++ã€‚
